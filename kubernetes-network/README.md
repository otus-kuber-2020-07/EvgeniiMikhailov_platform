# ДЗ #4 Сетевое взаимодействие (Pod, сервисы) (лекция #5)

## Добавление проверок Pod

Ответы на вопросы для самопроверки:

1. Почему следующая конфигурация валидна, но не имеет смысл?
```
livenessProbe:
  exec:
    command:
    - "sh"
    - "-c"
    - "ps aux | grep my_web_server_process"
```
**Ответ**: Если процесс с PID=1 завершится, с ненулевым exit code, то котнейнер будет перезагружен.

2. Бывают ли ситуации, когда она все-таки имеет смысл?

**Ответ**: Имеет смысл это делать, если мы отслеживаем статус процессов у которых PID != 1, например дочерних процессов.

## Создание Deployment

### Тестирование разных вариантов maxSurge и maxUnavailable.
#### maxUnavailable = 0; maxSurge = 100%
Вначале создаются новые поды. По готовности нового пода удаляется старый под.

#### maxUnavailable = 0; maxSurge = 0
Не валидная спецификация. Оба этих поля не могут равняться нулю однвоременно.

#### maxUnavailable = 100%; maxSurge = 100%
Одновременно создаются новые поды и удаляются старые. Данная стратегия может привести к простою сервиса.

#### maxUnavailable = 100%; maxSurge = 0
Вначале старые поды удаляются, после удаления создаются новые поды.

## Создание Service

